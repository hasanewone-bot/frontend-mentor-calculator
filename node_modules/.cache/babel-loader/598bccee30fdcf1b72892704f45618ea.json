{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useReducer } from 'react';\nexport const ACTIONS = {\n  ADD_DIGIT: 'add-digit',\n  CHOOSE_OPERATOR: 'choose-operator',\n  RESET: 'reset',\n  DELETE_DIGIT: 'delete',\n  EVAL: 'eval'\n};\n\nconst evaluation = function (_ref) {\n  let {\n    currOperand,\n    prevOperand,\n    operation\n  } = _ref;\n  let computation = '';\n  const prev = parseFloat(prevOperand);\n  const curr = parseFloat(currOperand);\n  if (isNaN(prev) || isNaN(curr)) return '';\n\n  switch (operation) {\n    case '+':\n      computation = prev + curr;\n      break;\n\n    case '-':\n      computation = prev - curr;\n      break;\n\n    case '*':\n      computation = prev * curr;\n      break;\n\n    case '/':\n      computation = prev / curr;\n      break;\n\n    default:\n      return '';\n  }\n\n  return computation.toString();\n};\n\nfunction reducer(state, _ref2) {\n  let {\n    type,\n    payload\n  } = _ref2;\n\n  switch (type) {\n    case ACTIONS.ADD_DIGIT:\n      if (state.overwrite) {\n        return { ...state,\n          currOperand: payload.digit,\n          overwrite: false\n        };\n      }\n\n      if (payload.digit === '0' && state.currOperand === '0') return state;\n\n      if (payload.digit === '.' && state.currOperand && state.currOperand.includes('.')) {\n        return state;\n      }\n\n      return { ...state,\n        currOperand: `${state.currOperand || ''}${payload.digit}`\n      };\n\n    case ACTIONS.CHOOSE_OPERATOR:\n      if (state.currOperand == null && state.prevOperand == null) return state;\n\n      if (state.currOperand == null) {\n        return { ...state,\n          operation: payload.operation\n        };\n      }\n\n      if (state.prevOperand == null) {\n        return { ...state,\n          operation: payload.operation,\n          prevOperand: state.currOperand,\n          currOperand: null\n        };\n      }\n\n      return { ...state,\n        prevOperand: evaluation(state),\n        operation: payload.operation,\n        currOperand: null\n      };\n\n    case ACTIONS.DELETE_DIGIT:\n      if (state.overwrite) return { ...state,\n        overwrite: false,\n        currOperand: null\n      };\n      if (state.currOperand == null) return state;\n      if (state.currOperand.length === 1) return { ...state,\n        currOperand: null\n      };\n      return { ...state,\n        currOperand: state.currOperand.slice(0, -1)\n      };\n\n    case ACTIONS.EVAL:\n      if (state.operation == null || state.currOperand == null || state.prevOperand == null) return state;\n      return { ...state,\n        overwrite: true,\n        operation: null,\n        prevOperand: null,\n        currOperand: evaluation(state)\n      };\n\n    case ACTIONS.RESET:\n      return {};\n\n    default:\n      return state;\n  }\n}\n\nexport default function useCalc() {\n  _s();\n\n  const [{\n    currOperand,\n    prevOperand,\n    operation\n  }, dispatch] = useReducer(reducer, {});\n  return {\n    currOperand,\n    prevOperand,\n    operation,\n    dispatch\n  };\n}\n\n_s(useCalc, \"P88Wy69LJDgYPbM9ZazlZuv/7eg=\");","map":{"version":3,"sources":["C:/Users/Admin/Desktop/calculator-app-main/calculator-app-main/src/hooks/useCalc.js"],"names":["useReducer","ACTIONS","ADD_DIGIT","CHOOSE_OPERATOR","RESET","DELETE_DIGIT","EVAL","evaluation","currOperand","prevOperand","operation","computation","prev","parseFloat","curr","isNaN","toString","reducer","state","type","payload","overwrite","digit","includes","length","slice","useCalc","dispatch"],"mappings":"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","sourcesContent":["import { useReducer } from 'react';\n\nexport const ACTIONS = {\n  ADD_DIGIT: 'add-digit',\n  CHOOSE_OPERATOR: 'choose-operator',\n  RESET: 'reset',\n  DELETE_DIGIT: 'delete',\n  EVAL: 'eval',\n};\n\nconst evaluation = function ({ currOperand, prevOperand, operation }) {\n  let computation = '';\n  const prev = parseFloat(prevOperand);\n  const curr = parseFloat(currOperand);\n\n  if (isNaN(prev) || isNaN(curr)) return '';\n\n  switch (operation) {\n    case '+':\n      computation = prev + curr;\n      break;\n    case '-':\n      computation = prev - curr;\n      break;\n    case '*':\n      computation = prev * curr;\n      break;\n    case '/':\n      computation = prev / curr;\n      break;\n    default:\n      return '';\n  }\n\n  return computation.toString();\n};\n\nfunction reducer(state, { type, payload }) {\n  switch (type) {\n    case ACTIONS.ADD_DIGIT:\n      if (state.overwrite) {\n        return {\n          ...state,\n          currOperand: payload.digit,\n          overwrite: false,\n        };\n      }\n      if (payload.digit === '0' && state.currOperand === '0') return state;\n      if (\n        payload.digit === '.' &&\n        state.currOperand &&\n        state.currOperand.includes('.')\n      ) {\n        return state;\n      }\n\n      return {\n        ...state,\n        currOperand: `${state.currOperand || ''}${payload.digit}`,\n      };\n\n    case ACTIONS.CHOOSE_OPERATOR:\n      if (state.currOperand == null && state.prevOperand == null) return state;\n      if (state.currOperand == null) {\n        return {\n          ...state,\n          operation: payload.operation,\n        };\n      }\n      if (state.prevOperand == null) {\n        return {\n          ...state,\n          operation: payload.operation,\n          prevOperand: state.currOperand,\n          currOperand: null,\n        };\n      }\n\n      return {\n        ...state,\n        prevOperand: evaluation(state),\n        operation: payload.operation,\n        currOperand: null,\n      };\n\n    case ACTIONS.DELETE_DIGIT:\n      if (state.overwrite)\n        return {\n          ...state,\n          overwrite: false,\n          currOperand: null,\n        };\n      if (state.currOperand == null) return state;\n      if (state.currOperand.length === 1)\n        return { ...state, currOperand: null };\n\n      return {\n        ...state,\n        currOperand: state.currOperand.slice(0, -1),\n      };\n\n    case ACTIONS.EVAL:\n      if (\n        state.operation == null ||\n        state.currOperand == null ||\n        state.prevOperand == null\n      )\n        return state;\n\n      return {\n        ...state,\n        overwrite: true,\n        operation: null,\n        prevOperand: null,\n        currOperand: evaluation(state),\n      };\n\n    case ACTIONS.RESET:\n      return {};\n\n    default:\n      return state;\n  }\n}\n\nexport default function useCalc() {\n  const [{ currOperand, prevOperand, operation }, dispatch] = useReducer(\n    reducer,\n    {}\n  );\n\n  return { currOperand, prevOperand, operation, dispatch };\n}\n"]},"metadata":{},"sourceType":"module"}